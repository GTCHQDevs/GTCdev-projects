<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Events Calendar</title>
  <link rel="stylesheet" href="/styles/general.css">
  <link rel="icon" type="image/x-icon" href="/assets-and-images/favicon.ico">
  <style>
      /* Sidebar Calendar */
      .calendar-sidebar {
      width: 260px;
      height: 100vh;
      overflow-y: auto;
      border-right: 1px solid #ddd;
      padding: 1rem;
      background: white;
    }

    .month {
      margin-bottom: 2rem;
      text-align: center;
    }

    .month h3 {
      margin: 0 0 0.5rem;
      font-size: 1rem;
    }

    .days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      font-size: 0.8rem;
      gap: 0.2rem;
    }

    .day {
      text-align: center;
      padding: 0.5em;
      border-radius: 4px;
      cursor: pointer;
    }

    .day.event-day {
      background-color: #9d9d27;
      color: white;
    }

    .day.today {
      border: 1px solid var(--primary);
    }
    .calendar-content {
      flex: 1;
      padding: 1rem;
    }
    .page-layout {
      display: grid;
      grid-template-columns: 260px 1fr;
    }

    .month-view{
      text-align: center;
    }
  /* Mobile */
 /* Mobile overrides */
@media (max-width: 768px) {
  .page-layout {
    display: block;
  }

  .desktop-only {
    display: none;
  }

  .mobile-only {
    display: none;
    width: 100%;
    background: white;
    border-top: 1px solid #ddd;
    padding: 1rem;
  }

  .mobile-only.show {
    display: block;
  }

  .calendar-toggle {
    position: sticky;
    bottom: 0;
    padding: 1rem;
    background-color: aqua;
    color: white;
    text-align: center;
    cursor: pointer;
    z-index: 11;
  }
}

/* Desktop */
@media (min-width: 769px) {
  .mobile-only {
    display: none;
  }
}
  </style>
</head>

<body>
  <div id="header"></div>
  <div class="temp-banner"></div>
  <main class="page-layout">
    <aside class="calendar-sidebar desktop-only" id="calendarDesktop"></aside>
    <section class="calendar-content">
      <h1>Events Calendar</h1>
      <p>Welcome to our events calendar! Here you can find all the upcoming events and activities happening in our Church.</p>
      <p>Stay tuned for more updates!</p>
     <section class="month-view">
      <section id="January">
        <h2>January 2025</h2>
      </section>
      <section id="Feburary">
        <h2>February 2025</h2>
      </section>
      <section id="March">
        <h2>March 2025</h2>
      </section>
      <section id="April">
        <h2>April 2025</h2>
      </section>
      <section id="May">
        <h2>May 2025</h2>
      </section>
      <section id="June">
        <h2>June 2025</h2>
      </section>
      <section id="July">
        <h2>July 2025</h2>
      </section>
      <section id="August">
        <h2>August 2025</h2>
      </section>
      <section id="September">
        <h2>September 2025</h2>
      </section>
      <section id="October">
        <h2>October 2025</h2>
      </section>  
      <section id="November">
        <h2>November 2025</h2>
      </section>
      <section id="December">
        <h2>December 2025</h2>
      </section>
     </section>
    </section>
  </main>
  <div class="calendar-toggle mobile-" onclick="toggleCalendar()">Show Calendar</div>
  <div class="calendar-sidebar mobile-only" id="calendarMobile"></div>
  <div id="footer"></div>
  <script src="../scripts/include.js"></script>
  <script src="../scripts/menu.js"></script>
  <script>
    const events = {
      "2025-04-10": [
        { title: "Funk Jam Night", location: "Jazz Bar", time: "8:00 PM" }
      ],
      "2025-04-12": [
        { title: "Science Expo", location: "City Hall", time: "10:00 AM" },
        { title: "Evening Gala", location: "Convention Center", time: "6:30 PM" }
      ]
    };

    const today = new Date().toISOString().split("T")[0];
    const calendarEl = window.innerWidth <= 768
      ? document.getElementById("calendarMobile")
      : document.getElementById("calendarDesktop");
    const eventCardsEl = document.getElementById("eventCards");

    // Create months
    function renderCalendar(year = 2025) {
      for (let m = 0; m < 12; m++) {
        const date = new Date(year, m, 1);
        const monthName = date.toLocaleString('default', { month: 'long' });
        const monthBlock = document.createElement("div");
        monthBlock.className = "month";
        monthBlock.innerHTML = `<h3>${monthName} ${year}</h3><div class="days"></div>`;

        const daysEl = monthBlock.querySelector(".days");
        const firstDay = new Date(year, m, 1).getDay();
        const numDays = new Date(year, m + 1, 0).getDate();

        // Fill blank days
        for (let i = 0; i < firstDay; i++) {
          daysEl.innerHTML += `<div></div>`;
        }

        for (let d = 1; d <= numDays; d++) {
          const fullDate = `${year}-${String(m + 1).padStart(2, '0')}-${String(d).padStart(2, '0')}`;
          const div = document.createElement("div");
          div.className = "day";
          div.textContent = d;
          if (events[fullDate]) div.classList.add("event-day");
          if (fullDate === today) div.classList.add("today");
          div.dataset.date = fullDate;
          div.onclick = () => showEventsForDate(fullDate);
          daysEl.appendChild(div);
        }

        calendarEl.appendChild(monthBlock);
      }
    }

    // Display events
    function showEventsForDate(date) {
      eventCardsEl.innerHTML = "";
      const dayEvents = events[date] || [];
      if (dayEvents.length === 0) {
        eventCardsEl.innerHTML = `<p>No events for ${date}</p>`;
      } else {
        for (const event of dayEvents) {
          const card = document.createElement("div");
          card.className = "event-card";
          card.innerHTML = `
            <h4>${event.title}</h4>
            <p>${event.location}</p>
            <p>${event.time}</p>
          `;
          eventCardsEl.appendChild(card);
        }
      }
    }

    function toggleCalendar() {
  const cal = document.getElementById("calendarMobile");
  cal.classList.toggle("show");
  }

    // Initialize calendar
    renderCalendar();
    showEventsForDate(today);
  </script>
  <script>
    function loadComponent(elementId, filePath) {
        fetch(filePath) // Get the file
          .then(response => response.text()) // Convert response to text
          .then(data => {
            document.getElementById(elementId).innerHTML = data; // Insert into the page
          })
          .catch(error => console.log("Error loading " + filePath, error)); // Handle errors
      }
      // Run this when the page loads
      window.onload = function() {
        loadComponent("header", "../components/header.html"); // Load header
        loadComponent("footer", "../components/footer.html"); // Load footer
      }
  </script>
</body>
</html>