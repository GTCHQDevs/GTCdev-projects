<!DOCTYPE html>
<html lang="en">

  <head>
    <title>GTC Homepage</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/general.css">
  </head>

  <body> 
      <div id="header"></div>
      <div class="top">
        <div class="welcome-msg">
          <h1 style="font-family: Mr Dafoe;
          display: flex;
          text-align: center;
          font-weight: 400;
          font-size: 80px;
          color: #f1c404;
          letter-spacing: 12px;">Welcome</h1>
          <h5 style="font-family: poppins;
          color: #ffffff;
          letter-spacing: 4px;
          font-size: 24px;">To the new and improved GTC Snyder Webpage</h5>
        </div>
          <!-- Slideshow container -->
        <div class="slideshow-container">

          <div class="mySlides fade">
            <img class="slideimg"  src="/assets-and-images/ss-choir.jpg" style="width:100%">
          </div>
          <div class="mySlides fade">
            <img class="slideimg"  src="/assets-and-images/street-sign.jpg" style="width:100%">
          </div>
          <div class="mySlides fade">
            <img class="slideimg"  src="/assets-and-images/sanctuary.jpg" style="width:100%">
          </div>
      </div>
    <main>
      <section></section>
      <section></section>
      <section></section>
      <section></section>
    </main>

      <div id="footer"></div>
    <script src="../scripts/include.js">
    </script>
    <script>
      // Wait for the header to be loaded before initializing the menu
      document.addEventListener("headerLoaded", function () {
        console.log("Header loaded, initializing menu functionality");
    
        const hamburger = document.querySelector(".hamburger");
        const mobileMenu = document.querySelector(".mobile-menu");
        const closeMenu = document.querySelector(".close-menu");
        const menuOverlay = document.querySelector(".menu-overlay");
    
        // Debugging: Log the elements to ensure they are found
        console.log({
          hamburger,
          mobileMenu,
          closeMenu,
          menuOverlay,
        });
    
        if (!hamburger || !mobileMenu || !closeMenu || !menuOverlay) {
          console.error("One or more elements not found:", { hamburger, mobileMenu, closeMenu, menuOverlay });
          return; // Exit if any of the elements are missing
        }
    
        console.log("Menu elements found, adding event listeners");
    
        // Function to open the menu
        function openMenu() {
          console.log("Opening menu");
          mobileMenu.classList.add("active");
          menuOverlay.classList.add("active");
          document.body.style.overflow = "hidden"; // Disable scrolling
        }
    
        // Function to close the menu
        function closeMenuFunction() {
          console.log("Closing menu");
          mobileMenu.classList.remove("active");
          menuOverlay.classList.remove("active");
          document.body.style.overflow = ""; // Restore scrolling
        }
    
        // Attach event listeners
        hamburger.addEventListener("click", openMenu);
        closeMenu.addEventListener("click", closeMenuFunction);
        menuOverlay.addEventListener("click", closeMenuFunction);
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape") {
            closeMenuFunction();
          }
        });
    
        // Close menu when resizing to desktop
        window.addEventListener("resize", function () {
          if (window.innerWidth > 920) {
            closeMenuFunction();
          }
        });
    
        console.log("Menu script initialized");
      });
    </script>
    
    <script>
      let slideIndex = 0;
      showSlides();
      
      function showSlides() {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {slideIndex = 1}
        slides[slideIndex-1].style.display = "block";
        setTimeout(showSlides, 2000); // Change image every 2 seconds
      }</script>
  </body>
</html>